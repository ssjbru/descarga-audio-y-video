<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <meta name="description" content="Download, trim and convert media files - Descarga, recorta y convierte archivos multimedia">
    <title data-i18n="page_title">Trimvert - Universal Media Tool</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Cursor personalizado hermoso -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>
    
    <!-- BotÃ³n flotante de configuraciÃ³n -->
    <button class="floating-settings-btn" onclick="toggleSettingsMenu()" title="ConfiguraciÃ³n">
        âš™ï¸
    </button>
    
    <!-- Overlay de configuraciÃ³n -->
    <div class="settings-overlay hidden" id="settingsOverlay" onclick="closeSettingsIfClickOutside(event)">
        <div class="settings-panel" onclick="event.stopPropagation()">
            <div class="settings-header">
                <h2>âš™ï¸ ConfiguraciÃ³n</h2>
                <button class="settings-close" onclick="toggleSettingsMenu()">âœ•</button>
            </div>
            <div class="settings-content">
                        <!-- Theme Toggle -->
                        <div class="settings-section">
                            <div class="settings-option" onclick="toggleTheme()">
                                <span class="option-icon" id="themeIcon">ğŸŒ™</span>
                                <span class="option-text" id="themeText" data-i18n="dark_mode">Modo Oscuro</span>
                                <span class="option-value" id="themeValue">ON</span>
                            </div>
                        </div>
                        
                        <!-- Language Selector -->
                        <div class="settings-section">
                            <div class="settings-label" data-i18n="language_label">Idioma</div>
                            <!-- Buscador de idiomas -->
                            <div class="language-search-wrapper">
                                <input type="text" 
                                       class="language-search" 
                                       id="languageSearch" 
                                       placeholder="ğŸ” Buscar idioma..." 
                                       onkeyup="filterLanguages(this.value)">
                            </div>
                            <div class="language-options" id="languageOptions">
                                <div class="language-option-simple" onclick="changeLanguage('en')">
                                    <span class="flag">ğŸ‡ºğŸ‡¸</span> English
                                    <span class="current-lang-indicator" data-lang="en">âœ“</span>
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('es')">
                                    <span class="flag">ğŸ‡ªğŸ‡¸</span> EspaÃ±ol
                                    <span class="current-lang-indicator" data-lang="es">âœ“</span>
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('fr')">
                                    <span class="flag">ğŸ‡«ğŸ‡·</span> FranÃ§ais
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('de')">
                                    <span class="flag">ğŸ‡©ğŸ‡ª</span> Deutsch
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('pt')">
                                    <span class="flag">ğŸ‡§ğŸ‡·</span> PortuguÃªs
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('it')">
                                    <span class="flag">ğŸ‡®ğŸ‡¹</span> Italiano
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ru')">
                                    <span class="flag">ğŸ‡·ğŸ‡º</span> Ğ ÑƒÑÑĞºĞ¸Ğ¹
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('zh')">
                                    <span class="flag">ğŸ‡¨ğŸ‡³</span> ä¸­æ–‡
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ja')">
                                    <span class="flag">ğŸ‡¯ğŸ‡µ</span> æ—¥æœ¬èª
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ko')">
                                    <span class="flag">ğŸ‡°ğŸ‡·</span> í•œêµ­ì–´
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ar')">
                                    <span class="flag">ğŸ‡¸ğŸ‡¦</span> Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('hi')">
                                    <span class="flag">ğŸ‡®ğŸ‡³</span> à¤¹à¤¿à¤¨à¥à¤¦à¥€
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('bn')">
                                    <span class="flag">ğŸ‡§ğŸ‡©</span> à¦¬à¦¾à¦‚à¦²à¦¾
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('tr')">
                                    <span class="flag">ğŸ‡¹ğŸ‡·</span> TÃ¼rkÃ§e
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('vi')">
                                    <span class="flag">ğŸ‡»ğŸ‡³</span> Tiáº¿ng Viá»‡t
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('pl')">
                                    <span class="flag">ğŸ‡µğŸ‡±</span> Polski
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('uk')">
                                    <span class="flag">ğŸ‡ºğŸ‡¦</span> Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('nl')">
                                    <span class="flag">ğŸ‡³ğŸ‡±</span> Nederlands
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('th')">
                                    <span class="flag">ğŸ‡¹ğŸ‡­</span> à¹„à¸—à¸¢
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('id')">
                                    <span class="flag">ğŸ‡®ğŸ‡©</span> Indonesia
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('sv')">
                                    <span class="flag">ğŸ‡¸ğŸ‡ª</span> Svenska
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ro')">
                                    <span class="flag">ğŸ‡·ğŸ‡´</span> RomÃ¢nÄƒ
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('cs')">
                                    <span class="flag">ğŸ‡¨ğŸ‡¿</span> ÄŒeÅ¡tina
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('el')">
                                    <span class="flag">ğŸ‡¬ğŸ‡·</span> Î•Î»Î»Î·Î½Î¹ÎºÎ¬
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('hu')">
                                    <span class="flag">ğŸ‡­ğŸ‡º</span> Magyar
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('fi')">
                                    <span class="flag">ğŸ‡«ğŸ‡®</span> Suomi
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('no')">
                                    <span class="flag">ğŸ‡³ğŸ‡´</span> Norsk
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('da')">
                                    <span class="flag">ğŸ‡©ğŸ‡°</span> Dansk
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('he')">
                                    <span class="flag">ğŸ‡®ğŸ‡±</span> ×¢×‘×¨×™×ª
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('fa')">
                                    <span class="flag">ğŸ‡®ğŸ‡·</span> ÙØ§Ø±Ø³ÛŒ
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ms')">
                                    <span class="flag">ğŸ‡²ğŸ‡¾</span> Bahasa Melayu
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('sw')">
                                    <span class="flag">ğŸ‡°ğŸ‡ª</span> Kiswahili
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ta')">
                                    <span class="flag">ğŸ‡±ğŸ‡°</span> à®¤à®®à®¿à®´à¯
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('te')">
                                    <span class="flag">ğŸ‡®ğŸ‡³</span> à°¤à±†à°²à±à°—à±
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('mr')">
                                    <span class="flag">ğŸ‡®ğŸ‡³</span> à¤®à¤°à¤¾à¤ à¥€
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ur')">
                                    <span class="flag">ğŸ‡µğŸ‡°</span> Ø§Ø±Ø¯Ùˆ
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ca')">
                                    <span class="flag">ğŸ´</span> CatalÃ 
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('sk')">
                                    <span class="flag">ğŸ‡¸ğŸ‡°</span> SlovenÄina
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('bg')">
                                    <span class="flag">ğŸ‡§ğŸ‡¬</span> Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('sr')">
                                    <span class="flag">ğŸ‡·ğŸ‡¸</span> Ğ¡Ñ€Ğ¿ÑĞºĞ¸
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('hr')">
                                    <span class="flag">ğŸ‡­ğŸ‡·</span> Hrvatski
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('lt')">
                                    <span class="flag">ğŸ‡±ğŸ‡¹</span> LietuviÅ³
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('lv')">
                                    <span class="flag">ğŸ‡±ğŸ‡»</span> LatvieÅ¡u
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('et')">
                                    <span class="flag">ğŸ‡ªğŸ‡ª</span> Eesti
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('sl')">
                                    <span class="flag">ğŸ‡¸ğŸ‡®</span> SlovenÅ¡Äina
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('sq')">
                                    <span class="flag">ğŸ‡¦ğŸ‡±</span> Shqip
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('mk')">
                                    <span class="flag">ğŸ‡²ğŸ‡°</span> ĞœĞ°ĞºĞµĞ´Ğ¾Ğ½ÑĞºĞ¸
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('bs')">
                                    <span class="flag">ğŸ‡§ğŸ‡¦</span> Bosanski
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('is')">
                                    <span class="flag">ğŸ‡®ğŸ‡¸</span> Ãslenska
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ga')">
                                    <span class="flag">ğŸ‡®ğŸ‡ª</span> Gaeilge
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('cy')">
                                    <span class="flag">ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿</span> Cymraeg
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('eu')">
                                    <span class="flag">ğŸ´</span> Euskara
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('gl')">
                                    <span class="flag">ğŸ´ó §ó ¬ó ³ó ¿</span> Galego
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('af')">
                                    <span class="flag">ğŸ‡¿ğŸ‡¦</span> Afrikaans
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('zu')">
                                    <span class="flag">ğŸ‡¿ğŸ‡¦</span> isiZulu
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('xh')">
                                    <span class="flag">ğŸ‡¿ğŸ‡¦</span> isiXhosa
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('am')">
                                    <span class="flag">ğŸ‡ªğŸ‡¹</span> áŠ áˆ›áˆ­áŠ›
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ha')">
                                    <span class="flag">ğŸ‡³ğŸ‡¬</span> Hausa
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('yo')">
                                    <span class="flag">ğŸ‡³ğŸ‡¬</span> YorÃ¹bÃ¡
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ig')">
                                    <span class="flag">ğŸ‡³ğŸ‡¬</span> Igbo
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('km')">
                                    <span class="flag">ğŸ‡°ğŸ‡­</span> ááŸ’á˜áŸ‚áš
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('lo')">
                                    <span class="flag">ğŸ‡±ğŸ‡¦</span> àº¥àº²àº§
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('my')">
                                    <span class="flag">ğŸ‡²ğŸ‡²</span> á€™á€¼á€”á€ºá€™á€¬
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ne')">
                                    <span class="flag">ğŸ‡³ğŸ‡µ</span> à¤¨à¥‡à¤ªà¤¾à¤²à¥€
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('si')">
                                    <span class="flag">ğŸ‡±ğŸ‡°</span> à·ƒà·’à¶‚à·„à¶½
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('kn')">
                                    <span class="flag">ğŸ‡®ğŸ‡³</span> à²•à²¨à³à²¨à²¡
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ml')">
                                    <span class="flag">ğŸ‡®ğŸ‡³</span> à´®à´²à´¯à´¾à´³à´‚
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('gu')">
                                    <span class="flag">ğŸ‡®ğŸ‡³</span> àª—à«àªœàª°àª¾àª¤à«€
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('pa')">
                                    <span class="flag">ğŸ‡®ğŸ‡³</span> à¨ªà©°à¨œà¨¾à¨¬à©€
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('sd')">
                                    <span class="flag">ğŸ‡µğŸ‡°</span> Ø³Ù†ÚŒÙŠ
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ps')">
                                    <span class="flag">ğŸ‡¦ğŸ‡«</span> Ù¾ÚšØªÙˆ
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ku')">
                                    <span class="flag">ğŸ‡®ğŸ‡¶</span> Ú©ÙˆØ±Ø¯ÛŒ
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('az')">
                                    <span class="flag">ğŸ‡¦ğŸ‡¿</span> AzÉ™rbaycan
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('uz')">
                                    <span class="flag">ğŸ‡ºğŸ‡¿</span> O'zbek
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('kk')">
                                    <span class="flag">ğŸ‡°ğŸ‡¿</span> ÒšĞ°Ğ·Ğ°Ò›
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ky')">
                                    <span class="flag">ğŸ‡°ğŸ‡¬</span> ĞšÑ‹Ñ€Ğ³Ñ‹Ğ·Ñ‡Ğ°
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('tg')">
                                    <span class="flag">ğŸ‡¹ğŸ‡¯</span> Ğ¢Ğ¾Ò·Ğ¸ĞºÓ£
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('tk')">
                                    <span class="flag">ğŸ‡¹ğŸ‡²</span> TÃ¼rkmen
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('mn')">
                                    <span class="flag">ğŸ‡²ğŸ‡³</span> ĞœĞ¾Ğ½Ğ³Ğ¾Ğ»
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ka')">
                                    <span class="flag">ğŸ‡¬ğŸ‡ª</span> áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('hy')">
                                    <span class="flag">ğŸ‡¦ğŸ‡²</span> Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('mt')">
                                    <span class="flag">ğŸ‡²ğŸ‡¹</span> Malti
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('lb')">
                                    <span class="flag">ğŸ‡±ğŸ‡º</span> LÃ«tzebuergesch
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('tl')">
                                    <span class="flag">ğŸ‡µğŸ‡­</span> Tagalog
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ceb')">
                                    <span class="flag">ğŸ‡µğŸ‡­</span> Cebuano
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('jv')">
                                    <span class="flag">ğŸ‡®ğŸ‡©</span> Basa Jawa
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('su')">
                                    <span class="flag">ğŸ‡®ğŸ‡©</span> Basa Sunda
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('mg')">
                                    <span class="flag">ğŸ‡²ğŸ‡¬</span> Malagasy
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('so')">
                                    <span class="flag">ğŸ‡¸ğŸ‡´</span> Soomaali
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('yi')">
                                    <span class="flag">ğŸ•</span> ×™×™Ö´×“×™×©
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('la')">
                                    <span class="flag">ğŸ›ï¸</span> Latina
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('eo')">
                                    <span class="flag">â­</span> Esperanto
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ht')">
                                    <span class="flag">ğŸ‡­ğŸ‡¹</span> KreyÃ²l Ayisyen
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('hmn')">
                                    <span class="flag">ğŸ”ï¸</span> Hmoob
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('ny')">
                                    <span class="flag">ğŸ‡²ğŸ‡¼</span> Chichewa
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('sn')">
                                    <span class="flag">ğŸ‡¿ğŸ‡¼</span> Shona
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('st')">
                                    <span class="flag">ğŸ‡±ğŸ‡¸</span> Sesotho
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('gd')">
                                    <span class="flag">ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿</span> GÃ idhlig
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('co')">
                                    <span class="flag">ğŸ‡«ğŸ‡·</span> Corsu
                                </div>
                                <div class="language-option-simple" onclick="changeLanguage('fy')">
                                    <span class="flag">ğŸ‡³ğŸ‡±</span> Frysk
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <h1 class="main-title" data-i18n="main_title">âœ¨ Trimvert</h1>
            <p class="subtitle" data-i18n="subtitle">ğŸ¬ Download, trim and convert media from 1000+ platforms in the best quality</p>
        </header>

        <main>
            <div class="tabs main-tabs">
                <button class="tab-btn active" onclick="switchMainTab('url')" data-i18n="tab_url">ğŸ”— Desde URL</button>
                <button class="tab-btn" onclick="switchMainTab('upload')" data-i18n="tab_trim">âœ‚ï¸ Recortar Archivo</button>
                <button class="tab-btn" onclick="switchMainTab('convert')" data-i18n="tab_convert">ğŸ”„ Convertir Formato</button>
            </div>

            <div id="urlSection" class="main-section">
                <div class="input-section">
                    <input 
                        type="text" 
                        id="urlInput" 
                        placeholder="ğŸ”— Pega aquÃ­ el enlace de tu video o canciÃ³n favorita..."
                        data-i18n="url_placeholder"
                        autocomplete="off"
                    >
                    <button id="getFormatsBtn" onclick="getFormats()" data-i18n="search_btn">ğŸ” Buscar</button>
                </div>
            </div>

            <div id="uploadSection" class="main-section hidden">
                <div class="upload-section">
                    <input 
                        type="file" 
                        id="fileInput" 
                        accept="video/*,audio/*"
                        style="display: none;"
                        onchange="handleFileSelect(event)"
                    >
                    <div class="upload-area" id="uploadArea" onclick="document.getElementById('fileInput').click()">
                        <div class="upload-icon">ğŸ“</div>
                        <h3 data-i18n="upload_area_title">Haz clic o arrastra un archivo aquÃ­</h3>
                        <p data-i18n="upload_area_desc">Formatos soportados: MP4, AVI, MKV, MOV, MP3, WAV, etc.</p>
                        <p class="file-size-limit" data-i18n="no_size_limit">Sin lÃ­mite de tamaÃ±o de archivo</p>
                    </div>
                    <div id="uploadedFileInfo" class="uploaded-file-info hidden">
                        <h3>ğŸ“„ <span data-i18n="file_selected">Archivo seleccionado:</span></h3>
                        <p id="uploadedFileName"></p>
                        <p id="uploadedFileSize"></p>
                        <p id="uploadedFileDuration"></p>
                        
                        <div class="trim-controls" style="margin-top: 20px;">
                            <div class="time-input-group">
                                <label for="uploadStartTime" data-i18n="time_start">â±ï¸ Tiempo de Inicio:</label>
                                <input type="text" id="uploadStartTime" placeholder="00:00:00" value="00:00:00" pattern="[0-9]{2}:[0-9]{2}:[0-9]{2}" oninput="calculateUploadTrimSize()">
                                <small data-i18n="time_format">Formato: HH:MM:SS</small>
                            </div>
                            
                            <div class="time-input-group">
                                <label for="uploadEndTime" data-i18n="time_end">â±ï¸ Tiempo Final:</label>
                                <input type="text" id="uploadEndTime" placeholder="00:01:00" pattern="[0-9]{2}:[0-9]{2}:[0-9]{2}" oninput="calculateUploadTrimSize()">
                                <small data-i18n="time_format">Formato: HH:MM:SS</small>
                            </div>
                        </div>
                        
                        <div id="uploadTrimEstimate" class="trim-estimate hidden" style="margin-top: 15px;">
                            <p>ğŸ“Š <strong data-i18n="estimated_size">TamaÃ±o aproximado del recorte:</strong> <span id="uploadEstimatedSize">-</span></p>
                        </div>
                        
                        <button class="download-btn" onclick="trimUploadedFile()" style="margin-top: 20px;" data-i18n="trim_download_btn">
                            âœ‚ï¸ Recortar y Descargar
                        </button>
                        
                        <div id="uploadTrimProgress" class="trim-progress hidden">
                            <div class="progress-bar-container">
                                <div class="progress-bar" id="uploadProgressBar">
                                    <span class="progress-percentage" id="uploadProgressPercentage">0%</span>
                                </div>
                            </div>
                            <p id="uploadTrimStatus">Procesando...</p>
                            <p id="uploadTrimDetails" class="progress-details"></p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="convertSection" class="main-section hidden">
                <div class="upload-section">
                    <input 
                        type="file" 
                        id="convertFileInput" 
                        accept="video/*,audio/*"
                        onchange="handleConvertFileSelect(event)"
                        style="display: none;"
                    >
                    <div id="convertUploadArea" class="upload-area" onclick="document.getElementById('convertFileInput').click()">
                        <div class="upload-icon">ğŸ“</div>
                        <h3 data-i18n="convert_upload_title">Haz clic o arrastra un archivo aquÃ­</h3>
                        <p data-i18n="convert_upload_desc">Acepta archivos de video y audio</p>
                    </div>
                    
                    <div id="convertFileInfo" class="uploaded-file-info hidden">
                        <h3>ğŸ“„ <span data-i18n="file_selected">Archivo seleccionado:</span></h3>
                        <p id="convertFileName"></p>
                        <p id="convertFileSize"></p>
                        
                        <div class="format-selector" style="margin-top: 20px;">
                            <label for="outputFormat"><strong data-i18n="convert_to">ğŸ”„ Convertir a:</strong></label>
                            <select id="outputFormat" class="format-select">
                                <option value="" data-i18n="select_format">-- Selecciona un formato --</option>
                                <optgroup label="ğŸµ Audio">
                                    <option value="mp3" data-i18n="format_mp3">MP3 (mÃ¡s compatible)</option>
                                    <option value="wav" data-i18n="format_wav">WAV (sin pÃ©rdida)</option>
                                    <option value="aac" data-i18n="format_aac">AAC (alta calidad)</option>
                                    <option value="flac" data-i18n="format_flac">FLAC (sin pÃ©rdida)</option>
                                    <option value="ogg" data-i18n="format_ogg">OGG (Vorbis)</option>
                                    <option value="m4a" data-i18n="format_m4a">M4A (Apple)</option>
                                </optgroup>
                                <optgroup label="ğŸ¬ Video">
                                    <option value="mp4" data-i18n="format_mp4">MP4 (mÃ¡s compatible)</option>
                                    <option value="mkv" data-i18n="format_mkv">MKV (alta calidad)</option>
                                    <option value="avi" data-i18n="format_avi">AVI (compatible)</option>
                                    <option value="webm" data-i18n="format_webm">WebM (web)</option>
                                    <option value="mov" data-i18n="format_mov">MOV (Apple)</option>
                                </optgroup>
                            </select>
                        </div>
                        
                        <button class="download-btn" onclick="convertFile()" style="margin-top: 20px;" data-i18n="convert_btn">
                            ğŸ”„ Convertir Archivo
                        </button>
                        
                        <div id="convertProgress" class="trim-progress hidden">
                            <div class="progress-bar-container">
                                <div class="progress-bar" id="convertProgressBar">
                                    <span class="progress-percentage" id="convertProgressPercentage">0%</span>
                                </div>
                            </div>
                            <p id="convertStatus">Procesando...</p>
                            <p id="convertDetails" class="progress-details"></p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>ğŸš€ Analizando contenido...</p>
            </div>

            <div id="error" class="error hidden"></div>

            <div id="videoInfo" class="video-info hidden">
                <div class="info-header">
                    <img id="thumbnail" src="" alt="Thumbnail">
                    <div class="info-details">
                        <h2 id="videoTitle"></h2>
                        <p id="videoDuration"></p>
                    </div>
                </div>

                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('video')" data-i18n="subtab_video">ğŸ¬ Video</button>
                    <button class="tab-btn" onclick="switchTab('audio')" data-i18n="subtab_audio">ğŸµ Audio</button>
                    <button class="tab-btn" onclick="switchTab('trim')" data-i18n="subtab_trim">âœ‚ï¸ Recortar</button>
                    <button class="tab-btn" onclick="switchTab('thumbnail')" data-i18n="subtab_thumbnail">ğŸ–¼ï¸ Portada</button>
                </div>

                <div id="trimSection" class="formats-section hidden">
                    <h3 data-i18n="trim_section_title">âœ‚ï¸ Recortar Video/Audio</h3>
                    <p class="trim-description" data-i18n="trim_description">Selecciona el intervalo de tiempo y calidad que deseas extraer</p>
                    
                    <div id="trimVideoInfo" class="trim-video-info hidden">
                        <div class="trim-info-card">
                            <p><strong data-i18n="video_label">ğŸ“¹ Video:</strong> <span id="trimVideoTitle"></span></p>
                            <p><strong data-i18n="total_duration">â±ï¸ DuraciÃ³n total:</strong> <span id="trimVideoDuration"></span></p>
                        </div>
                    </div>
                    
                    <div class="trim-quality-selector hidden" id="trimQualitySection">
                        <label for="trimQuality" data-i18n="trim_quality">ğŸ¬ Calidad del Video:</label>
                        <select id="trimQuality">
                            <option value="best" data-i18n="best_quality">Mejor calidad disponible</option>
                        </select>
                    </div>
                    
                    <div class="trim-controls">
                        <div class="time-input-group">
                            <label for="startTime" data-i18n="time_start">â±ï¸ Tiempo de Inicio:</label>
                            <input type="text" id="startTime" placeholder="00:00:00" value="00:00:00" pattern="[0-9]{2}:[0-9]{2}:[0-9]{2}">
                            <small data-i18n="time_format">Formato: HH:MM:SS</small>
                        </div>
                        
                        <div class="time-input-group">
                            <label for="endTime" data-i18n="time_end">â±ï¸ Tiempo Final:</label>
                            <input type="text" id="endTime" placeholder="00:01:00" pattern="[0-9]{2}:[0-9]{2}:[0-9]{2}">
                            <small data-i18n="time_format">Formato: HH:MM:SS</small>
                        </div>
                    </div>
                    
                    <div id="trimEstimate" class="trim-estimate hidden">
                        <p><strong data-i18n="estimated_size">ğŸ“¦ TamaÃ±o estimado:</strong> <span id="estimatedSize">Calculando...</span></p>
                        <p><strong data-i18n="estimated_time">â³ Tiempo estimado:</strong> <span id="estimatedTime">Calculando...</span></p>
                    </div>
                    
                    <div class="trim-examples">
                        <p><strong data-i18n="examples_label">ğŸ’¡ Ejemplos:</strong></p>
                        <button class="example-btn" onclick="setTrimExample('00:00:00', '00:00:30')" data-i18n="example_30s">Primeros 30 segundos</button>
                        <button class="example-btn" onclick="setTrimExample('00:00:00', '00:01:00')" data-i18n="example_1min">Primer minuto</button>
                        <button class="example-btn" onclick="setTrimExample('00:00:30', '00:01:30')" data-i18n="example_range">De 0:30 a 1:30</button>
                    </div>
                    
                    <button class="download-btn trim-btn" onclick="trimVideo()" data-i18n="trim_download_btn">
                        âœ‚ï¸ Recortar y Descargar
                    </button>
                    
                    <div id="trimProgress" class="trim-progress hidden">
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="trimProgressBar"></div>
                        </div>
                        <p id="trimStatus" data-i18n="processing">Procesando...</p>
                        <p id="trimDetails" class="progress-details"></p>
                    </div>
                </div>

                <div id="videoFormats" class="formats-section">
                    <h3 data-i18n="video_formats">ğŸ¬ Formatos de Video Disponibles</h3>
                    <div class="format-selector">
                        <label for="videoOutputFormat" data-i18n="output_format">ğŸ”„ Formato de Salida:</label>
                        <select id="videoOutputFormat">
                            <option value="mp4" data-i18n="format_mp4_recommended">MP4 (Recomendado)</option>
                            <option value="webm" data-i18n="format_webm">WebM</option>
                            <option value="mkv" data-i18n="format_mkv">MKV</option>
                            <option value="avi" data-i18n="format_avi">AVI</option>
                            <option value="mov" data-i18n="format_mov">MOV</option>
                        </select>
                    </div>
                    <div id="videoFormatsList" class="formats-list"></div>
                </div>

                <div id="audioFormats" class="formats-section hidden">
                    <h3 data-i18n="audio_formats">ğŸµ Formatos de Audio Disponibles</h3>
                    <div class="format-selector">
                        <label for="audioOutputFormat" data-i18n="output_format">ğŸ”„ Formato de Salida:</label>
                        <select id="audioOutputFormat">
                            <option value="mp3" data-i18n="format_mp3_recommended">MP3 (Recomendado)</option>
                            <option value="m4a" data-i18n="format_m4a">M4A</option>
                            <option value="wav" data-i18n="format_wav">WAV</option>
                            <option value="flac" data-i18n="format_flac">FLAC</option>
                            <option value="ogg" data-i18n="format_ogg">OGG</option>
                            <option value="opus" data-i18n="format_opus">OPUS</option>
                        </select>
                    </div>
                    <div id="audioFormatsList" class="formats-list"></div>
                </div>

                <div id="thumbnailFormats" class="formats-section hidden">
                    <h3 data-i18n="thumbnail_formats">ğŸ–¼ï¸ Portadas Disponibles</h3>
                    <div class="format-selector">
                        <label for="thumbnailFormat" data-i18n="image_format">ğŸ”„ Formato de Imagen:</label>
                        <select id="thumbnailFormat">
                            <option value="jpg" data-i18n="format_jpg_recommended">JPG (Recomendado)</option>
                            <option value="png" data-i18n="format_png">PNG</option>
                            <option value="webp" data-i18n="format_webp">WebP</option>
                        </select>
                    </div>
                    <div id="thumbnailsList" class="formats-list"></div>
                </div>
            </div>

            <div id="downloadProgress" class="download-progress hidden">
                <h3 data-i18n="downloading">ğŸš€ Descargando tu contenido...</h3>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <p id="progressText">0%</p>
                <p id="progressSpeed"></p>
            </div>
        </main>

        <!-- Botones flotantes de utilidad -->
        <div class="floating-actions">
            <!-- BotÃ³n scroll to top -->
            <button class="float-btn scroll-top-btn" id="scrollTopBtn" onclick="scrollToTop()" title="Volver arriba">
                â†‘
            </button>
            <!-- BotÃ³n clipboard paste -->
            <button class="float-btn clipboard-btn" onclick="pasteFromClipboard()" title="Pegar desde portapapeles (Ctrl+V)">
                ğŸ“‹
            </button>
            <!-- BotÃ³n modo teatro -->
            <button class="float-btn theater-btn" id="theaterBtn" onclick="toggleTheaterMode()" title="Modo Teatro (F)">
                ğŸ¬
            </button>
        </div>

        <!-- Indicador de shortcuts -->
        <div class="shortcuts-hint collapsed" id="shortcutsHint">
            <button class="shortcuts-toggle" onclick="toggleShortcuts()" title="Ver atajos de teclado" aria-label="Mostrar/Ocultar atajos de teclado">
                <span class="toggle-arrow">â–¼</span>
            </button>
            <div class="hint-content">
                <strong>âŒ¨ï¸ Atajos de teclado:</strong><br>
                <span>Ctrl+V - Pegar URL</span>
                <span>Enter - Buscar</span>
                <span>F - Modo Teatro</span>
                <span>T - Modo Enfoque (en teatro)</span>
                <span>F11 - Pantalla completa</span>
                <span>Esc - Salir/Cerrar</span>
                <span>? - Mostrar ayuda</span>
            </div>
        </div>

        <!-- Controles de modo teatro -->
        <div class="theater-controls" id="theaterControls">
            <div class="theater-control-panel">
                <button class="theater-control-btn" onclick="toggleTheaterMode()" title="Salir del modo teatro (F o Esc)">
                    <span class="btn-icon">âŒ</span>
                    <span class="btn-text">Salir</span>
                </button>
                <button class="theater-control-btn" onclick="toggleTheaterFullscreen()" title="Pantalla completa (F11)">
                    <span class="btn-icon">â›¶</span>
                    <span class="btn-text">Pantalla completa</span>
                </button>
                <button class="theater-control-btn" onclick="toggleTheaterFocus()" title="Modo enfoque">
                    <span class="btn-icon">ğŸ¯</span>
                    <span class="btn-text" id="focusText">Enfocar</span>
                </button>
            </div>
        </div>

        <footer>
            <p style="font-size: 1.1rem; margin-bottom: 15px;">âœ¨ <strong>Compatible con 1000+ Plataformas:</strong> YouTube, Instagram, TikTok, Facebook, Twitter, Reddit, Twitch, Dailymotion y muchÃ­simas mÃ¡s</p>
            
            <button id="showAllSitesBtn" onclick="loadAllSupportedSites()" style="margin: 20px auto; padding: 14px 32px; background: linear-gradient(135deg, var(--primary-color), var(--accent-color)); color: white; border: none; border-radius: 12px; font-weight: 700; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; display: block;">
                ğŸŒ Ver TODAS las Plataformas Soportadas (<span id="sitesCount">1000+</span>)
            </button>
            
            <details style="margin: 20px 0; padding: 15px; background: rgba(15, 23, 42, 0.6); border-radius: 12px; cursor: pointer;">
                <summary style="font-weight: 700; font-size: 1.05rem; color: var(--primary-color); user-select: none;">ğŸ“‹ Plataformas Destacadas</summary>
                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border-color);">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 15px;">
                        <div>
                            <h4 style="color: var(--secondary-color); margin-bottom: 8px;">âœ… Optimizadas</h4>
                            <ul style="list-style: none; padding: 0; color: var(--text-muted); line-height: 1.8;">
                                <li>â€¢ YouTube</li>
                                <li>â€¢ Instagram</li>
                                <li>â€¢ TikTok</li>
                                <li>â€¢ SoundCloud</li>
                                <li>â€¢ Vimeo</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--primary-color); margin-bottom: 8px;">âœ”ï¸ Soportadas</h4>
                            <ul style="list-style: none; padding: 0; color: var(--text-muted); line-height: 1.8;">
                                <li>â€¢ Facebook</li>
                                <li>â€¢ Twitter (X)</li>
                                <li>â€¢ Dailymotion</li>
                                <li>â€¢ Twitch (VODs)</li>
                                <li>â€¢ Reddit</li>
                                <li>â€¢ Streamable</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--danger-color); margin-bottom: 8px;">âŒ No Disponibles</h4>
                            <ul style="list-style: none; padding: 0; color: var(--text-muted); line-height: 1.8;">
                                <li>â€¢ Spotify</li>
                                <li>â€¢ Apple Music</li>
                                <li>â€¢ Netflix</li>
                                <li>â€¢ Disney+</li>
                                <li>â€¢ Amazon Prime</li>
                            </ul>
                            <p style="font-size: 0.85rem; margin-top: 10px; opacity: 0.7;">*ProtecciÃ³n DRM</p>
                        </div>
                    </div>
                    <p style="font-size: 0.9rem; color: var(--text-muted); margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border-color);">ğŸ’¡ <strong>Nota:</strong> Compatible con mÃ¡s de 1000 sitios web gracias a yt-dlp</p>
                </div>
            </details>
            <p style="margin-top: 25px; padding-top: 20px; border-top: 1px solid var(--border-color); font-size: 0.95rem;">
                Desarrollado con ğŸ’œ por <strong style="background: linear-gradient(135deg, var(--primary-color), var(--accent-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-size: 1.1rem;">brussj</strong>
            </p>
        </footer>
    </div>

    <!-- Modal para mostrar todas las plataformas -->
    <div id="sitesModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸŒ Plataformas Soportadas</h2>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="search-box">
                    <input type="text" id="siteSearch" placeholder="ğŸ” Buscar plataforma..." onkeyup="filterSites()">
                    <p id="searchResults" style="margin-top: 10px; color: var(--text-muted); font-size: 0.9rem;"></p>
                </div>
                <div id="sitesLoading" class="loading">
                    <div class="spinner"></div>
                    <p>Cargando plataformas...</p>
                </div>
                <div id="sitesList" class="sites-grid hidden"></div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="{{ url_for('static', filename='translations.js') }}"></script>
</body>
</html>
